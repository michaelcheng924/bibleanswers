{"version":3,"file":"static/development/pages/admin.js","sources":["webpack:///webpack/bootstrap","webpack:///./components/AdminMain.js","webpack:///./components/AdminPostsList.js","webpack:///./components/AdminStyles.js","webpack:///./components/AdminTagsList.js","webpack:///./components/Container.js","webpack:///./components/CreateTag.js","webpack:///./components/GlobalStyle.js","webpack:///./components/Login.js","webpack:///./components/PostEditor.js","webpack:///./components/ReadingContainer.js","webpack:///./components/Search.js","webpack:///./components/TagEditor.js","webpack:///./pages/admin.js","webpack:///./utils/writing.js","webpack:///external \"axios\"","webpack:///external \"lodash\"","webpack:///external \"lodash/keyBy\"","webpack:///external \"prismjs/components/prism-clike\"","webpack:///external \"prismjs/components/prism-core\"","webpack:///external \"prismjs/components/prism-javascript\"","webpack:///external \"react\"","webpack:///external \"react-icons/fa\"","webpack:///external \"react-select\"","webpack:///external \"react-simple-code-editor\"","webpack:///external \"react-textarea-autosize\"","webpack:///external \"styled-components\"","webpack:///external \"styled-jsx/style\""],"sourcesContent":[" \t// The module cache\n \tvar installedModules = require('../../../ssr-module-cache.js');\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tvar threw = true;\n \t\ttry {\n \t\t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n \t\t\tthrew = false;\n \t\t} finally {\n \t\t\tif(threw) delete installedModules[moduleId];\n \t\t}\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n","import React, { Component } from \"react\";\nimport Textarea from \"react-textarea-autosize\";\n\nimport AdminPostsList from \"./AdminPostsList\";\nimport AdminTagsList from \"./AdminTagsList\";\n\nclass AdminMain extends Component {\n  state = {\n    showBackup: false\n  };\n\n  renderBackup() {\n    const { showBackup } = this.state;\n\n    return (\n      <div>\n        <button onClick={() => this.setState({ showBackup: !showBackup })}>\n          {showBackup ? \"Hide\" : \"Show\"} backup\n        </button>\n        {showBackup ? (\n          <Textarea\n            value={JSON.stringify(\n              this.props.posts.map(post => {\n                let modifiedPost = {\n                  ...post,\n                  tags: post.tags.map(tag => tag.title)\n                };\n\n                delete modifiedPost[\"mapped_related_posts_tags\"];\n\n                return modifiedPost;\n              })\n            )}\n          />\n        ) : null}\n      </div>\n    );\n  }\n\n  render() {\n    const {\n      headers,\n      onFetchPostsTags,\n      onSetPost,\n      onSetTag,\n      posts,\n      postsBySlug,\n      tags\n    } = this.props;\n\n    return (\n      <div>\n        {this.renderBackup()}\n\n        <div className=\"admin__lists\">\n          <AdminPostsList\n            headers={headers}\n            onFetchPostsTags={onFetchPostsTags}\n            onSetPost={onSetPost}\n            posts={posts}\n            postsBySlug={postsBySlug}\n            tags={tags}\n          />\n          <AdminTagsList headers={headers} onSetTag={onSetTag} tags={tags} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default AdminMain;\n","import React, { Component } from \"react\";\nimport { some } from \"lodash\";\nimport styled from \"styled-components\";\n\nimport Search from \"./Search\";\n\nconst BIBLE_BOOKS = {\n  Genesis: true,\n  Exodus: true,\n  Leviticus: true,\n  Numbers: true,\n  Deuteronomy: true,\n  Joshua: true,\n  Judges: true,\n  Ruth: true,\n  \"1 Samuel\": true,\n  \"2 Samuel\": true,\n  \"1 Kings\": true,\n  \"2 Kings\": true,\n  \"1 Chronicles\": true,\n  \"2 Chronicles\": true,\n  Ezra: true,\n  Nehemiah: true,\n  Esther: true,\n  Job: true,\n  Psalms: true,\n  Proverbs: true,\n  Ecclesiastes: true,\n  \"Song of Solomon\": true,\n  Isaiah: true,\n  Jeremiah: true,\n  Lamentations: true,\n  Ezekiel: true,\n  Daniel: true,\n  Hosea: true,\n  Joel: true,\n  Amos: true,\n  Obadiah: true,\n  Jonah: true,\n  Micah: true,\n  Nahum: true,\n  Habakkuk: true,\n  Zephaniah: true,\n  Haggai: true,\n  Zechariah: true,\n  Malachi: true,\n  Matthew: true,\n  Mark: true,\n  Luke: true,\n  John: true,\n  Acts: true,\n  Romans: true,\n  \"1 Corinthians\": true,\n  \"2 Corinthians\": true,\n  Galatians: true,\n  Ephesians: true,\n  Philippians: true,\n  Colossians: true,\n  \"1 Thessalonians\": true,\n  \"2 Thessalonians\": true,\n  \"1 Timothy\": true,\n  \"2 Timothy\": true,\n  Titus: true,\n  Philemon: true,\n  Hebrews: true,\n  James: true,\n  \"1 Peter\": true,\n  \"2 Peter\": true,\n  \"1 John\": true,\n  \"2 John\": true,\n  \"3 John\": true,\n  Jude: true,\n  Revelation: true\n};\n\nconst PostItem = styled.div`\n  align-items: center;\n  display: flex;\n`;\n\nconst PostInfo = styled.div`\n  flex-grow: 1;\n  font-size: 20px;\n  font-weight: bold;\n`;\n\nexport default class PostsList extends Component {\n  constructor(props) {\n    super(props);\n\n    this.keys = {};\n\n    this.state = {\n      showNeedsWork: false\n    };\n  }\n\n  componentDidMount() {\n    document.addEventListener(\"keydown\", this.handleKeyPress);\n    document.addEventListener(\"keyup\", this.handleKeyPress);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener(\"keydown\", this.handleKeyPress);\n    document.removeEventListener(\"keyup\", this.handleKeyPress);\n  }\n\n  onNewPostClick = () => {\n    this.props.onSetPost({\n      published: false,\n      slug: \"\",\n      title: \"\",\n      description: \"\",\n      subtitle: \"\",\n      image_url: \"\",\n      image_url_small: \"\",\n      references: \"\",\n      html: `<div class=\"writing\">\n  <h3>Initial</h3>\n</div>`,\n      date_added: \"\",\n      related_posts_tags: [],\n      mapped_related_posts_tags: [],\n      tag_ids: [],\n      tags: []\n    });\n  };\n\n  handleKeyPress = e => {\n    this.keys[e.keyCode] = e.type === \"keydown\";\n\n    if (this.keys[17] && this.keys[78]) {\n      this.setState({ showNeedsWork: !this.state.showNeedsWork });\n    }\n  };\n\n  needsWork(post) {\n    const errors = [];\n\n    if (!post.published) {\n      errors.push(\"Not published\");\n    }\n\n    if (!post.tags.length) {\n      errors.push(\"No tags\");\n    }\n\n    if (!post.mapped_related_posts_tags.length) {\n      errors.push(\"No related posts\");\n    }\n\n    if (!post.description || post.description.length < 160) {\n      errors.push(\"Needs description\");\n    }\n\n    if (post.slug.indexOf(\" \") !== -1) {\n      errors.push(\"Slug has space\");\n    }\n\n    return errors;\n  }\n\n  renderAll() {\n    this.props.posts.sort((a, b) => {\n      return new Date(b.updated_at) - new Date(a.updated_at);\n    });\n\n    return this.props.posts.map(post => {\n      return (\n        <PostItem key={post.id} onClick={() => this.props.onSetPost(post)}>\n          <PostInfo>{post.title}</PostInfo>\n          {post.image_url_small ? (\n            <img src={post.image_url_small} alt={post.title} />\n          ) : null}\n        </PostItem>\n      );\n    });\n  }\n\n  renderNeedsWork() {\n    const { onSetPost, posts, postsBySlug, tags } = this.props;\n\n    return (\n      <div>\n        {/* {posts.map(post => {\n          if (post.tags.length) {\n            return null;\n          }\n\n          return (\n            <div key={post.id} onClick={() => onSetPost(post)}>\n              <div>{post.title}</div>\n              <div style={{ color: \"red\" }}>Needs tag</div>\n            </div>\n          );\n        })} */}\n        {tags.map(tag => {\n          if (\n            tag.slug === \"apologetics\" ||\n            tag.slug === \"theology\" ||\n            BIBLE_BOOKS[tag.title]\n          ) {\n            return null;\n          }\n\n          return (\n            <div key={tag.id} className=\"writing\">\n              {some(\n                tag.post_slugs,\n                slug => this.needsWork(postsBySlug[slug]).length\n              ) ? (\n                <div>\n                  <h4 className=\"nomargin\">{tag.title}</h4>\n                  {tag.post_slugs.map(slug => {\n                    const post = postsBySlug[slug];\n\n                    const needsWork = this.needsWork(post);\n\n                    if (!needsWork.length) {\n                      return null;\n                    }\n\n                    const needsWorkErrors = needsWork.map(error => {\n                      return (\n                        <div key={error} style={{ color: \"red\" }}>\n                          {error}\n                        </div>\n                      );\n                    });\n\n                    return (\n                      <div\n                        key={`${tag.slug}-\n                        **${post.slug}`}\n                        onClick={() => onSetPost(post)}\n                      >\n                        <div>{post.title}</div>\n                        {needsWorkErrors}\n                      </div>\n                    );\n                  })}\n                </div>\n              ) : null}\n            </div>\n          );\n        })}\n      </div>\n    );\n  }\n\n  render() {\n    const { showNeedsWork } = this.state;\n    const { posts } = this.props;\n\n    return (\n      <div>\n        <h2>Posts ({posts.length})</h2>\n        <button className=\"admin__log-out\" onClick={this.onNewPostClick}>\n          New Post\n        </button>\n        <Search showing={posts.length} total={posts.length} />\n        <div className=\"admin__filters\">\n          <div className=\"admin__filter\">\n            <input\n              type=\"checkbox\"\n              onChange={() => this.setState({ showNeedsWork: !showNeedsWork })}\n              value={showNeedsWork}\n            />\n            Needs work\n          </div>\n        </div>\n        {showNeedsWork ? this.renderNeedsWork() : this.renderAll()}\n      </div>\n    );\n  }\n}\n","import { createGlobalStyle } from \"styled-components\";\n\nconst AdminStyles = createGlobalStyle`\ntextarea {\n  font-size: 16px;\n  padding: 4px 8px;\n  width: 100%;\n}\n\n.admin__login {\n  margin-bottom: 20px;\n  text-align: center;\n}\n\n.admin__login-input {\n  margin-bottom: 10px;\n  width: 250px;\n}\n\n.admin__log-out {\n  border: 0;\n  font-size: 12px;\n  padding: 2px 4px !important;\n}\n\n.admin__update-sitemap {\n  background: #F8BBD0;\n  padding: 20px;\n}\n\n.admin__lists {\n  display: flex;\n  justify-content: space-around;\n}\n\n.admin__filters {\n  display: flex;\n  flex-wrap: wrap;\n}\n\n.admin__filter {\n  align-items: center;\n  display: flex;\n  margin-right: 15px;\n}\n\n.admin__save-buttons {\n  align-items: center;\n  display: flex;\n  position: fixed;\n  right: 0;\n  top: 0;\n}\n\n.admin__save-buttons button {\n  margin-left: 10px !important;\n}\n\n.admin__post-selects {\n  display: flex;\n  flex-wrap: wrap;\n}\n\n.admin__post-select {\n  margin-right: 20px;\n  width: 300px;\n}\n\n.post-editor__images {\n  background: #B3E5FC;\n  display: flex;\n  padding: 20px;\n}\n\n.post-editor__html-container {\n  display: flex;\n  justify-content: space-around;\n}\n\n.post-editor__html-content {\n  border: 1px solid rgba(0, 0, 0, .54);\n  flex-grow: 1;\n  font-size: 18px;\n  margin-top: auto;\n  max-width: 700px;\n  padding-left: 20px;\n}\n\n.post-editor__html-editor {\n  font-family: monospace;\n}\n\n.admin__create-tag {\n  background: #BDBDBD;\n  padding: 30px;\n}\n`;\n\nexport default AdminStyles;\n","import React from \"react\";\n\nimport CreateTag from \"./CreateTag\";\n\nconst TagsList = ({ headers, onSetTag, tags }) => (\n  <div>\n    <h2>Tags</h2>\n    <CreateTag headers={headers} />\n    <ul>\n      {tags.map(tag => {\n        return (\n          <li\n            key={tag.id}\n            className=\"admin__list-post\"\n            onClick={() => onSetTag(tag)}\n          >\n            <div>\n              <div>\n                {tag.title} ({tag.post_slugs.length})\n              </div>\n              {tag.description.length < 160 ||\n              tag.slug.indexOf(\" \") !== -1 ||\n              !tag.date_added ||\n              !tag.image_url ? (\n                <div style={{ color: \"red\" }}>Has error</div>\n              ) : null}\n            </div>\n          </li>\n        );\n      })}\n    </ul>\n  </div>\n);\n\nexport default TagsList;\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nconst StyledContainer = styled.div`\n  color: rgba(0, 0, 0, 0.84);\n  margin: 0;\n  overflow-x: auto;\n  padding: 0;\n  font-family: Helvetica Neue, Helvetica, Arial, sans-serif;\n`;\n\nconst AmpContainer = ({ children }) => (\n  <StyledContainer>{children}</StyledContainer>\n);\n\nconst Container = ({ children }) => (\n  <div className=\"container\">\n    {children}\n\n    <style jsx>{`\n      .container {\n        color: rgba(0, 0, 0, 0.84);\n        margin: 0;\n        padding: 0;\n        font-family: Helvetica Neue, Helvetica, Arial, sans-serif;\n      }\n    `}</style>\n  </div>\n);\n\nexport { AmpContainer, Container };\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport Textarea from \"react-textarea-autosize\";\n\nclass CreateTag extends Component {\n  state = {\n    slug: \"\",\n    url: \"\",\n    title: \"\",\n    description: \"\",\n    subtitle: \"\",\n    image_url: \"\",\n    date_added: \"\"\n  };\n\n  onChange = event => {\n    const { name, value } = event.target;\n\n    const newState = { [name]: value };\n\n    if (name === \"slug\") {\n      newState.url = `/tags/${value}`;\n    }\n\n    this.setState(newState);\n  };\n\n  createTag = () => {\n    const { headers, onFetchPostsTags } = this.props;\n\n    axios\n      .post(\"https://bibleanswersapi.herokuapp.com/tags\", this.state, headers)\n      .then(() => {\n        onFetchPostsTags();\n\n        this.setState({\n          slug: \"\",\n          url: \"\",\n          title: \"\",\n          description: \"\",\n          subtitle: \"\",\n          image_url: \"\",\n          date_added: \"\"\n        });\n      });\n  };\n\n  render() {\n    const {\n      slug,\n      url,\n      title,\n      description,\n      subtitle,\n      image_url,\n      date_added\n    } = this.state;\n\n    return (\n      <div className=\"admin__create-tag\">\n        {/* <div>{JSON.stringify(this.state)}</div> */}\n        <h3>Create Tag</h3>\n        <div>\n          <strong>slug: </strong>\n        </div>\n        <Textarea\n          onChange={this.onChange}\n          name=\"slug\"\n          placeholder=\"slug\"\n          value={slug}\n        />\n        <div>\n          <strong>url: </strong>\n        </div>\n        <Textarea\n          disabled\n          onChange={this.onChange}\n          name=\"url\"\n          placeholder=\"url\"\n          value={url}\n        />\n        <div>\n          <strong>title: </strong>\n        </div>\n        <Textarea\n          onChange={this.onChange}\n          name=\"title\"\n          placeholder=\"title\"\n          value={title}\n        />\n        <div>\n          <strong>description: {160 - description.length}</strong>\n        </div>\n        <Textarea\n          onChange={this.onChange}\n          name=\"description\"\n          placeholder=\"description\"\n          value={description}\n        />\n        <div>\n          <strong>subtitle: </strong>\n        </div>\n        <Textarea\n          onChange={this.onChange}\n          name=\"subtitle\"\n          placeholder=\"subtitle\"\n          value={subtitle}\n        />\n        <div>\n          <strong>date_added: </strong>\n        </div>\n        <Textarea\n          onChange={this.onChange}\n          name=\"date_added\"\n          placeholder=\"date_added\"\n          value={date_added}\n        />\n        <div>\n          <strong>image_url: </strong>\n        </div>\n        <Textarea\n          onChange={this.onChange}\n          name=\"image_url\"\n          placeholder=\"image_url\"\n          value={image_url}\n        />\n        <img src={image_url} alt={title} style={{ width: 200 }} />\n        <button onClick={this.createTag}>Create</button>\n      </div>\n    );\n  }\n}\n\nexport default CreateTag;\n","import { createGlobalStyle } from \"styled-components\";\n\nconst RESURRECTION_HARMONY_STYLES = `/* RESURRECTION HARMONY */\n\n.resurrection-scripture-container {\n  display: flex;\n}\n\n.resurrection-scripture {\n  flex-grow: 1;\n  margin-top: 20px;\n  min-width: 320px;\n}\n\n.resurrection-scripture-title {\n  background: #757575;\n  border-right: 1px solid #fff;\n  color: #fff;\n  padding: 5px 10px;\n}\n\n.resurrection-scripture-text {\n  border: 1px solid #BDBDBD;\n  border-top: 0;\n  padding: 5px 10px;\n}\n\n.scripture-verse {\n  font-size: 13px;\n  font-weight: bold;\n  position: relative;\n  top: -5px;\n}\n\n.writing .purple {\n  color: #9C27B0;\n  font-weight: bold;\n}\n\n.writing .red {\n  color: #F44336;\n  font-weight: bold;\n}\n\n.writing .teal {\n  color: #009688;\n  font-weight: bold;\n}\n\n.writing .orange {\n  color: #FF5722;\n  font-weight: bold;\n}\n\n.writing .orange-1 {\n  color: #EF6C00;\n  font-weight: bold;\n}\n\n.writing .blue {\n  color: #2196F3;\n  font-weight: bold;\n}\n\n.writing .indigo {\n  color: #3F51B5;\n  font-weight: bold;\n}\n\n.writing .pink {\n  color: #E91E63;\n  font-weight: bold;\n}\n\n.writing .cyan {\n  color: #0097A7;\n  font-weight: bold;\n}\n\n.writing .green {\n  color: #43A047;\n  font-weight: bold;\n}\n\n.writing .brown {\n  color: #795548;\n  font-weight: bold;\n}`;\n\nfunction createAmpGlobalStyle(slug) {\n  return createGlobalStyle`\n  .writing h3 {\n    font-size: 34px;\n    line-height: 1.15;\n    margin: 0;\n    margin-top: 56px;\n  }\n  \n  .writing h4 {\n    font-size: 26px;\n    line-height: 1.22;\n    margin: 0;\n    margin-top: 30px;\n  }\n  \n  .writing h3 + p,\n  .writing h3 + ol,\n  .writing h3 + ul,\n  .writing h3 + blockquote,\n  .writing h4 + p,\n  .writing h4 + ol,\n  .writing h4 + ul,\n  .writing h4 + blockquote {\n    margin-top: 8px;\n  }\n  \n  .writing p,\n  .writing ol,\n  .writing ul,\n  .writing blockquote {\n    font-size: 21px;\n    line-height: 1.58;\n    margin: 0;\n    margin-top: 29px;\n  }\n  \n  .writing ol,\n  .writing ul {\n    padding: 0 40px;\n  }\n  \n  .writing li {\n    margin-bottom: 10px;\n  }\n  \n  .writing li:last-child {\n    margin-bottom: 0;\n  }\n  \n  .writing blockquote {\n    border-left: 3px solid rgba(0, 0, 0, .84);\n    font-style: italic;\n    left: -20px;\n    padding-left: 20px;\n    position: relative;\n  }\n  \n  .writing .first {\n    margin-top: 8px;\n  }\n  \n  .writing .nomargin {\n    margin-top: 0;\n  }\n  \n  .writing .indent {\n    margin-left: 20px;\n  }\n  \n  .writing .image {\n    margin-top: 29px;\n  }\n  \n  .writing .image-left {\n    float: left;\n    margin-right: 20px;\n  }\n  \n  .writing .image-right {\n    float: right;\n    margin-left: 20px;\n  }\n  \n  .writing a {\n    color: #689f38;\n    text-decoration: none;\n  }\n  \n  .writing .reference {\n    font-size: 14px;\n    margin-left: 2px;\n    position: relative;\n    top: -5px;\n  }\n\n  .divider {\n    display: block;\n    font-size: 35px;\n    letter-spacing: 0.6em;\n    text-align: center;\n  }\n  \n  @media screen and (max-width: 768px) {\n    .writing h3 {\n      font-size: 30px;\n      margin-top: 28px;\n    }\n  \n    .writing h4 {\n      font-size: 24px;\n      margin-top: 22px;\n    }\n  \n    .writing p,\n    .writing ol {\n      font-size: 18px;\n      margin-top: 21px;\n    }\n  \n    .writing blockquote {\n      font-size: 18px;\n      margin-top: 21px;\n    }\n  \n    .writing .image {\n      margin-top: 21px;\n    }\n  }\n\n  ${\n    slug === \"resurrection-narratives-harmony\"\n      ? RESURRECTION_HARMONY_STYLES\n      : \"\"\n  }\n  `;\n}\n\nexport { createAmpGlobalStyle };\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\n\nexport default class Login extends Component {\n  state = {\n    pw: \"\",\n    username: \"\"\n  };\n\n  componentDidMount() {\n    const token = localStorage.getItem(\"bible-answers-token\");\n\n    if (token) {\n      axios\n        .post(\"https://bibleanswersapi.herokuapp.com/checktoken\", { token })\n        .then(response => {\n          if (response.data.success) {\n            this.props.onLoginSuccess(token);\n          }\n        });\n    }\n  }\n\n  onSubmit = event => {\n    event.preventDefault();\n\n    axios\n      .post(\"https://bibleanswersapi.herokuapp.com/login\", {\n        password: this.state.pw,\n        username: this.state.username\n      })\n      .then(response => {\n        if (response.data.success) {\n          this.props.onLoginSuccess(response.data.token);\n        }\n      });\n  };\n\n  render() {\n    return (\n      <form className=\"admin__login\" onSubmit={this.onSubmit}>\n        <div>\n          <input\n            onChange={event => this.setState({ username: event.target.value })}\n            placeholder=\"Username\"\n            value={this.state.username}\n          />\n        </div>\n        <div>\n          <input\n            type=\"password\"\n            onChange={event => this.setState({ pw: event.target.value })}\n            placeholder=\"Password\"\n            value={this.state.pw}\n          />\n        </div>\n        <button>Log in</button>\n      </form>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport Textarea from \"react-textarea-autosize\";\nimport axios from \"axios\";\nimport Select from \"react-select\";\nimport { find } from \"lodash\";\nimport Editor from \"react-simple-code-editor\";\nimport { highlight, languages } from \"prismjs/components/prism-core\";\nimport \"prismjs/components/prism-clike\";\nimport \"prismjs/components/prism-javascript\";\n\nimport { getModifiedContent } from \"../utils/writing\";\nimport ReadingContainer from \"./ReadingContainer\";\nimport CreateTag from \"./CreateTag\";\n\nconst HTML_PRESS_MAPPINGS = [\n  {\n    key1: 17,\n    key2: 72,\n    addition: \"<h3></h3>\",\n    cursorOffset: 4\n  },\n  {\n    key1: 17,\n    key2: 74,\n    addition: \"<h4></h4>\",\n    cursorOffset: 4\n  },\n  {\n    key1: 17,\n    key2: 80,\n    addition: \"<p></p>\",\n    cursorOffset: 3\n  },\n  {\n    key1: 17,\n    key2: 66,\n    addition: \"<blockquote></blockquote>\",\n    cursorOffset: 12\n  },\n  {\n    key1: 17,\n    key2: 83,\n    addition: \"<strong></strong>\",\n    cursorOffset: 8\n  },\n  {\n    key1: 17,\n    key2: 69,\n    addition: \"<em></em>\",\n    cursorOffset: 8\n  },\n  {\n    key1: 17,\n    key2: 85,\n    addition: `<ul>\n    <li></li>\n  </ul>`,\n    cursorOffset: 13\n  },\n  {\n    key1: 17,\n    key2: 79,\n    addition: `<ol>\n    <li></li>\n  </ol>`,\n    cursorOffset: 13\n  },\n  {\n    key1: 17,\n    key2: 76,\n    addition: \"<li></li>\",\n    cursorOffset: 4\n  },\n  {\n    key1: 17,\n    key2: 82,\n    addition: '<p><a href=\"\" rel=\"nofollow\" target=\"_blank\"></a></p>',\n    cursorOffset: 12\n  }\n];\n\nclass PostEditor extends Component {\n  constructor(props) {\n    super(props);\n\n    this.keys = {};\n\n    this.state = {\n      post: props.post,\n      saving: false,\n      success: false,\n      error: false\n    };\n  }\n\n  componentDidMount() {\n    window.scrollTo(0, 0);\n\n    document.addEventListener(\"keydown\", this.handleKeyPress);\n    document.addEventListener(\"keyup\", this.handleKeyPress);\n  }\n\n  componentDidUpdate(prevProps) {\n    if (!prevProps.post.id && this.props.post.id) {\n      this.setState({ post: this.props.post });\n    }\n  }\n\n  componentWillUnmount() {\n    this.props.onFetchPostsTags();\n\n    document.removeEventListener(\"keydown\", this.handleKeyPress);\n    document.removeEventListener(\"keyup\", this.handleKeyPress);\n  }\n\n  handleKeyPress = e => {\n    this.keys[e.keyCode] = e.type === \"keydown\";\n\n    if (this.keys[17] && this.keys[90]) {\n      this.onSave();\n    }\n\n    if (this.keys[17] && this.keys[65]) {\n      this.props.onSetPost(null);\n    }\n  };\n\n  getMappedTags(tags) {\n    if (!tags) {\n      return [];\n    }\n\n    return tags.map(tag => {\n      return { label: tag.title, value: tag.id };\n    });\n  }\n\n  onChange = event => {\n    const { post } = this.state;\n    const { name, value } = event.target;\n\n    const updatedPost = {\n      ...post,\n      [name]: value\n    };\n\n    if (name === \"slug\") {\n      updatedPost.url = `/answers/${value}`;\n    }\n\n    this.setState({ post: updatedPost });\n  };\n\n  onHtmlChange = html => {\n    this.setState({\n      post: {\n        ...this.state.post,\n        html\n      }\n    });\n  };\n\n  onHtmlPress = e => {\n    e.persist();\n\n    const { post } = this.state;\n    const index = e.target.selectionStart;\n\n    this.keys[e.keyCode] = e.type === \"keydown\";\n\n    let done = false;\n\n    HTML_PRESS_MAPPINGS.forEach(item => {\n      if (done) {\n        return;\n      }\n\n      const { key1, key2, addition, cursorOffset } = item;\n\n      if (this.keys[key1] && this.keys[key2]) {\n        const newHtml = `${post.html.slice(\n          0,\n          index\n        )}${addition}${post.html.slice(index)}`;\n\n        this.setState(\n          {\n            post: {\n              ...post,\n              html: newHtml\n            }\n          },\n          () => {\n            setTimeout(() => {\n              e.target.selectionStart = index + cursorOffset;\n              e.target.selectionEnd = index + cursorOffset;\n            });\n          }\n        );\n\n        done = true;\n      }\n    });\n  };\n\n  onSelectChange = value => {\n    const newTagsList = value.map(tag => {\n      return find(this.props.tags, tagData => tagData.id === tag.value);\n    });\n\n    this.setState({\n      post: {\n        ...this.state.post,\n        tags: newTagsList\n      }\n    });\n  };\n\n  onSelectRelatedChange = value => {\n    this.setState({\n      post: {\n        ...this.state.post,\n        mapped_related_posts_tags: value.map(tag => {\n          return find(this.props.tags, tagData => tagData.id === tag.value);\n        })\n      }\n    });\n  };\n\n  onPublishedChange = () => {\n    const { post } = this.state;\n\n    const updatedPost = {\n      ...post,\n      published: !post.published\n    };\n\n    this.setState({ post: updatedPost });\n  };\n\n  onSave = () => {\n    const { headers, onFetchPostsTags } = this.props;\n    const { post } = this.state;\n\n    if (post.published && (!post.subtitle || !post.date_added)) {\n      this.setState({ error: true });\n      return;\n    }\n\n    let finalPost = {\n      ...post,\n      tag_ids: post.tags.map(tag => tag.id),\n      related_posts_tags: post.mapped_related_posts_tags\n        .map(tag => tag.id)\n        .join(\",\")\n    };\n    delete finalPost.tags;\n\n    let method = \"post\";\n    let url = \"https://bibleanswersapi.herokuapp.com/posts\";\n\n    if (post.id) {\n      method = \"patch\";\n      url = `https://bibleanswersapi.herokuapp.com/posts/${post.id}`;\n    }\n\n    this.setState({ saving: true });\n\n    axios[method](url, finalPost, headers)\n      .then(response => {\n        this.setState({ success: true }, () => {\n          setTimeout(() => {\n            this.setState({\n              saving: false,\n              success: false,\n              post: response.data\n            });\n          }, 500);\n        });\n\n        onFetchPostsTags();\n      })\n      .catch(() => {\n        this.setState({ error: true, saving: false });\n      });\n  };\n\n  deletePost = () => {\n    const confirm = window.confirm(\"Are you sure?\");\n\n    if (confirm) {\n      axios\n        .delete(\n          `https://bibleanswersapi.herokuapp.com/posts/${this.state.post.id}`\n        )\n        .then(() => {\n          this.props.onFetchPostsTags().then(() => {\n            this.props.history.push(\"/admin\");\n          });\n        });\n    }\n  };\n\n  renderSaveButtons() {\n    const { error, saving, success } = this.state;\n\n    let status = null;\n\n    if (saving) {\n      status = (\n        <img\n          src=\"https://i.imgur.com/P7fXP4s.gif\"\n          style={{ height: 30, width: 30 }}\n        />\n      );\n    }\n\n    if (success || error) {\n      status = (\n        <div\n          style={{\n            background: success ? \"#43A047\" : \"#F44336\",\n            color: \"#fff\",\n            padding: \"5px 10px\"\n          }}\n        >\n          {success ? \"SUCCESS!\" : \"ERROR!\"}\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"admin__save-buttons\">\n        {status}\n        <input\n          type=\"checkbox\"\n          onChange={this.onPublishedChange}\n          checked={this.state.post.published}\n        />\n        Published\n        <button className=\"small\" onClick={this.onSave}>\n          Save\n        </button>\n      </div>\n    );\n  }\n\n  renderHtml() {\n    const { post } = this.state;\n\n    const modifiedContent = getModifiedContent(post);\n\n    return (\n      <div>\n        <div className=\"post-editor__html-container\">\n          <Editor\n            className=\"post-editor__html-content\"\n            value={post.html || \"\"}\n            onValueChange={this.onHtmlChange}\n            onKeyDown={this.onHtmlPress}\n            onKeyUp={this.onHtmlPress}\n            highlight={code => highlight(code, languages.js)}\n            padding={10}\n            style={{\n              fontFamily: '\"Fira code\", \"Fira Mono\", monospace',\n              fontSize: 16\n            }}\n          />\n          <div\n            className=\"post-editor__html-content\"\n            dangerouslySetInnerHTML={{ __html: modifiedContent }}\n            ref={htmlEl => (this.htmlEl = htmlEl)}\n          />\n        </div>\n        {this.htmlEl && this.htmlEl.innerText.split(\" \").length}\n      </div>\n    );\n  }\n\n  render() {\n    const { headers, onSetPost, tags } = this.props;\n    const { post } = this.state;\n    const {\n      id,\n      slug,\n      url,\n      title,\n      description,\n      subtitle,\n      image_url,\n      image_url_small,\n      references,\n      date_added,\n      mapped_related_posts_tags\n    } = post;\n\n    return (\n      <div>\n        <button onClick={() => onSetPost(null)}>Admin Home</button>\n        {this.renderSaveButtons()}\n        {/* <div>{JSON.stringify(post)}</div> */}\n        <ReadingContainer style={{ margin: \"20px auto\" }}>\n          <div>ID: {id}</div>\n          <div>\n            <strong>slug: </strong>\n          </div>\n          <Textarea\n            onChange={this.onChange}\n            name=\"slug\"\n            placeholder=\"slug\"\n            value={slug}\n          />\n          <div>\n            <strong>url: </strong>\n          </div>\n          <Textarea\n            onChange={this.onChange}\n            name=\"url\"\n            placeholder=\"url\"\n            value={url || \"\"}\n          />\n          <div>\n            <strong>title: </strong>\n          </div>\n          <Textarea\n            onChange={this.onChange}\n            name=\"title\"\n            placeholder=\"Title\"\n            value={title}\n          />\n          <div>\n            <strong>description: </strong>\n          </div>\n          <Textarea\n            onChange={this.onChange}\n            name=\"description\"\n            placeholder=\"Description\"\n            value={description || \"\"}\n          />\n          <div>{description ? 160 - (description || \"\").length : null}</div>\n          <div>\n            <strong>tags: </strong>\n          </div>\n          <Select\n            value={this.getMappedTags(post.tags)}\n            isMulti\n            name=\"colors\"\n            onChange={this.onSelectChange}\n            options={this.getMappedTags(tags)}\n          />\n          <div>\n            <strong>related_posts_tags: </strong>\n          </div>\n          <Select\n            value={this.getMappedTags(mapped_related_posts_tags)}\n            isMulti\n            name=\"colors\"\n            onChange={this.onSelectRelatedChange}\n            options={this.getMappedTags(tags)}\n          />\n          <div>\n            <strong>subtitle: </strong>\n          </div>\n          <Textarea\n            onChange={this.onChange}\n            name=\"subtitle\"\n            placeholder=\"Subtitle\"\n            value={subtitle}\n          />\n          <div>\n            <strong>date_added: </strong>\n          </div>\n          <Textarea\n            onChange={this.onChange}\n            name=\"date_added\"\n            placeholder=\"date_added\"\n            value={date_added}\n          />\n\n          <CreateTag headers={headers} />\n          <div className=\"post-editor__images\">\n            <div>\n              <div>\n                <strong>image_url: </strong>\n              </div>\n              <Textarea\n                onChange={this.onChange}\n                name=\"image_url\"\n                placeholder=\"image_url\"\n                value={image_url || \"\"}\n              />\n              <img src={image_url} alt={title} style={{ width: 300 }} />\n            </div>\n            <div>\n              <div>\n                <strong>image_url_small: </strong>\n              </div>\n              <Textarea\n                onChange={this.onChange}\n                name=\"image_url_small\"\n                placeholder=\"image_url_small\"\n                value={image_url_small || \"\"}\n              />\n              <img src={image_url_small} alt={title} style={{ width: 80 }} />\n            </div>\n          </div>\n\n          <div>\n            <strong>references: </strong>\n          </div>\n          <Textarea\n            onChange={this.onChange}\n            name=\"references\"\n            placeholder=\"references\"\n            value={references || \"\"}\n          />\n        </ReadingContainer>\n        {this.renderHtml()}\n        <button className=\"small danger\" onClick={this.deletePost}>\n          Delete\n        </button>\n      </div>\n    );\n  }\n}\n\nexport default PostEditor;\n","import React from \"react\";\n\nexport default ({ children, style }) => (\n  <div\n    style={{\n      margin: \"0 auto 20px\",\n      maxWidth: 740,\n      padding: \"0 20px\",\n      width: \"calc(100% - 40px)\",\n      ...style\n    }}\n  >\n    {children}\n  </div>\n);\n","import React, { Component } from \"react\";\nimport { FaTimes, FaSearch } from \"react-icons/fa\";\n\nclass Search extends Component {\n  state = {\n    inputFocused: false\n  };\n\n  onChange = event => {\n    this.props.onChange(event.target.value);\n  };\n\n  render() {\n    const { inputFocused } = this.state;\n    const { search, showing, total } = this.props;\n\n    return (\n      <div className=\"search-container\">\n        <FaSearch\n          style={{\n            color: inputFocused ? \"#039be5\" : \"rgba(0,0,0,.54)\",\n            position: \"relative\",\n            top: 5\n          }}\n        />\n        <div>\n          <input\n            className=\"search\"\n            onChange={this.onChange}\n            onFocus={() => this.setState({ inputFocused: true })}\n            onBlur={() => this.setState({ inputFocused: false })}\n            placeholder=\"Search\"\n            style={{\n              borderBottom: inputFocused ? \"1px solid #039be5\" : \"\"\n            }}\n            value={search}\n          />\n          <div className=\"results\">{`Showing ${showing}/${total} results`}</div>\n        </div>\n        {search ? (\n          <FaTimes\n            style={{\n              color: \"#F44336\",\n              cursor: \"pointer\",\n              position: \"relative\",\n              top: 5\n            }}\n            onClick={this.props.onClearSearch}\n          />\n        ) : null}\n      </div>\n    );\n  }\n}\n\nexport default Search;\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport Textarea from \"react-textarea-autosize\";\n\nclass UpdateTag extends Component {\n  state = { ...this.props, date_added: \"2018-11-19\" };\n\n  onChange = event => {\n    const { name, value } = event.target;\n\n    const newState = { [name]: value };\n\n    if (name === \"slug\") {\n      newState.url = `/tags/${value}`;\n    }\n\n    this.setState(newState);\n  };\n\n  updateTag = () => {\n    const { id, headers, onFetchPostsTags } = this.props;\n\n    axios\n      .patch(\n        `https://bibleanswersapi.herokuapp.com/tags/${id}`,\n        this.state,\n        headers\n      )\n      .then(() => {\n        onFetchPostsTags();\n      });\n  };\n\n  render() {\n    const {\n      slug,\n      url,\n      title,\n      description,\n      subtitle,\n      image_url,\n      date_added\n    } = this.state;\n\n    return (\n      <div className=\"admin__create-tag\">\n        <button onClick={() => this.props.onSetTag(null)}>Admin home</button>\n        {/* <div>{JSON.stringify(this.state)}</div> */}\n        <h3>Create Tag</h3>\n        <div>\n          <strong>slug: </strong>\n        </div>\n        <Textarea\n          onChange={this.onChange}\n          name=\"slug\"\n          placeholder=\"slug\"\n          value={slug}\n        />\n        <div>\n          <strong>url: </strong>\n        </div>\n        <Textarea\n          disabled\n          onChange={this.onChange}\n          name=\"url\"\n          placeholder=\"url\"\n          value={url}\n        />\n        <div>\n          <strong>title: </strong>\n        </div>\n        <Textarea\n          onChange={this.onChange}\n          name=\"title\"\n          placeholder=\"title\"\n          value={title}\n        />\n        <div>\n          <strong>description: {160 - description.length}</strong>\n        </div>\n        <Textarea\n          onChange={this.onChange}\n          name=\"description\"\n          placeholder=\"description\"\n          value={description}\n        />\n        <div>\n          <strong>subtitle: </strong>\n        </div>\n        <Textarea\n          onChange={this.onChange}\n          name=\"subtitle\"\n          placeholder=\"subtitle\"\n          value={subtitle}\n        />\n        <div>\n          <strong>date_added: </strong>\n        </div>\n        <Textarea\n          onChange={this.onChange}\n          name=\"date_added\"\n          placeholder=\"date_added\"\n          value={date_added || \"\"}\n        />\n        <div>\n          <strong>image_url: </strong>\n        </div>\n        <Textarea\n          onChange={this.onChange}\n          name=\"image_url\"\n          placeholder=\"image_url\"\n          value={image_url || \"\"}\n        />\n        <img src={image_url} alt={title} style={{ width: 200 }} />\n        <button onClick={this.updateTag}>Update</button>\n      </div>\n    );\n  }\n}\n\nexport default UpdateTag;\n","import React, { useReducer } from \"react\";\nimport axios from \"axios\";\nimport keyBy from \"lodash/keyBy\";\n\nimport { Container } from \"../components/Container\";\nimport { createAmpGlobalStyle } from \"../components/GlobalStyle\";\nimport AdminStyles from \"../components/AdminStyles\";\nimport Login from \"../components/Login\";\nimport AdminMain from \"../components/AdminMain\";\nimport PostEditor from \"../components/PostEditor\";\nimport TagEditor from \"../components/TagEditor\";\n\nconst Admin = () => {\n  let [state, dispatch] = useReducer(\n    (state, { type, payload }) => {\n      switch (type) {\n        case \"ON_LOGIN_SUCCESS\":\n          return {\n            ...state,\n            ...payload\n          };\n        case \"ON_FETCH_SUCCESS\":\n          return {\n            ...state,\n            ...payload\n          };\n        case \"ON_SET_POST\":\n          return {\n            ...state,\n            ...payload\n          };\n        case \"ON_SET_TAG\":\n          return {\n            ...state,\n            ...payload\n          };\n        default:\n          return state;\n      }\n    },\n    {\n      headers: {},\n      loggedIn: false,\n      post: null,\n      posts: [],\n      postsBySlug: {},\n      tag: null,\n      tags: []\n    }\n  );\n\n  const { headers, post, posts, postsBySlug, tag, tags } = state;\n\n  const onLoginSuccess = token => {\n    onFetchPostsTags();\n\n    localStorage.setItem(\"bible-answers-token\", token);\n\n    dispatch({\n      type: \"ON_LOGIN_SUCCESS\",\n      payload: {\n        headers: {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        },\n        loggedIn: true\n      }\n    });\n  };\n\n  const onFetchPostsTags = () => {\n    return axios\n      .get(\"https://bibleanswersapi.herokuapp.com/initialfetch\")\n      .then(response => {\n        const postsBySlug = keyBy(response.data.posts, \"slug\");\n\n        const localStoragePost = localStorage.getItem(\"bible-answers-post\");\n\n        const post = localStoragePost ? postsBySlug[localStoragePost] : null;\n\n        dispatch({\n          type: \"ON_FETCH_SUCCESS\",\n          payload: {\n            post,\n            postsBySlug,\n            posts: response.data.posts,\n            tags: response.data.tags\n          }\n        });\n      });\n  };\n\n  const onSetPost = post => {\n    if (post) {\n      localStorage.setItem(\"bible-answers-post\", post.slug);\n    } else {\n      localStorage.setItem(\"bible-answers-post\", null);\n    }\n\n    dispatch({\n      type: \"ON_SET_POST\",\n      payload: { post }\n    });\n  };\n\n  const onSetTag = tag => {\n    dispatch({\n      type: \"ON_SET_TAG\",\n      payload: { tag }\n    });\n  };\n\n  if (!state.loggedIn) {\n    return <Login onLoginSuccess={onLoginSuccess} />;\n  }\n\n  let content;\n\n  if (post) {\n    content = (\n      <PostEditor\n        headers={headers}\n        onFetchPostsTags={onFetchPostsTags}\n        onSetPost={onSetPost}\n        post={post}\n        tags={tags}\n      />\n    );\n  } else if (tag) {\n    content = (\n      <TagEditor\n        headers={headers}\n        onFetchPostsTags={onFetchPostsTags}\n        onSetTag={onSetTag}\n        {...tag}\n      />\n    );\n  } else if (posts.length) {\n    content = (\n      <AdminMain\n        headers={headers}\n        onFetchPostsTags={onFetchPostsTags}\n        onSetPost={onSetPost}\n        onSetTag={onSetTag}\n        posts={posts}\n        postsBySlug={postsBySlug}\n        tags={tags}\n      />\n    );\n  } else {\n    content = (\n      <img\n        src=\"https://i.imgur.com/P7fXP4s.gif\"\n        style={{ height: 30, width: 30 }}\n      />\n    );\n  }\n\n  const AmpGlobalStyle = createAmpGlobalStyle(\n    \"resurrection-narratives-harmony\"\n  );\n\n  return (\n    <Container>\n      <title>Admin</title>\n      <AmpGlobalStyle />\n      <AdminStyles />\n      {content}\n\n      <style jsx>{`\n        .writing h3 {\n          font-size: 34px;\n          line-height: 1.15;\n          margin: 0;\n          margin-top: 56px;\n        }\n\n        .writing h4 {\n          font-size: 26px;\n          line-height: 1.22;\n          margin: 0;\n          margin-top: 30px;\n        }\n\n        .writing h3 + p,\n        .writing h3 + ol,\n        .writing h3 + ul,\n        .writing h3 + blockquote,\n        .writing h4 + p,\n        .writing h4 + ol,\n        .writing h4 + ul,\n        .writing h4 + blockquote {\n          margin-top: 8px;\n        }\n\n        .writing p,\n        .writing ol,\n        .writing ul,\n        .writing blockquote {\n          font-size: 21px;\n          line-height: 1.58;\n          margin: 0;\n          margin-top: 29px;\n        }\n\n        .writing ol,\n        .writing ul {\n          padding: 0 40px;\n        }\n\n        .writing li {\n          margin-bottom: 10px;\n        }\n\n        .writing li:last-child {\n          margin-bottom: 0;\n        }\n\n        .writing blockquote {\n          border-left: 3px solid rgba(0, 0, 0, 0.84);\n          font-style: italic;\n          left: -20px;\n          padding-left: 20px;\n          position: relative;\n        }\n\n        .writing .first {\n          margin-top: 8px;\n        }\n\n        .writing .nomargin {\n          margin-top: 0;\n        }\n\n        .writing .indent {\n          margin-left: 20px;\n        }\n\n        .writing .image {\n          margin-top: 29px;\n        }\n\n        .writing .image-left {\n          float: left;\n          margin-right: 20px;\n        }\n\n        .writing .image-right {\n          float: right;\n          margin-left: 20px;\n        }\n\n        .writing a {\n          color: #689f38;\n          text-decoration: none;\n        }\n\n        .writing .scripture {\n          color: #039be5;\n        }\n\n        .writing .reference {\n          font-size: 14px;\n          margin-left: 2px;\n          position: relative;\n          top: -5px;\n        }\n\n        @media screen and (max-width: 768px) {\n          .writing h3 {\n            font-size: 30px;\n            margin-top: 28px;\n          }\n\n          .writing h4 {\n            font-size: 24px;\n            margin-top: 22px;\n          }\n\n          .writing p,\n          .writing ol {\n            font-size: 18px;\n            margin-top: 21px;\n          }\n\n          .writing blockquote {\n            font-size: 18px;\n            margin-top: 21px;\n          }\n\n          .writing .image {\n            margin-top: 21px;\n          }\n        }\n      `}</style>\n    </Container>\n  );\n};\n\nexport default Admin;\n","import { map } from \"lodash\";\n\nexport function textRef(number) {\n  return `<span class=\"superscript\"><a class=\"reference\" href=\"#footnote-${number}\" id=\"text-${number}\">[${number}]</a></span>`;\n}\n\nexport function renderRefs(references) {\n  return `\n    <h4>References</h4>\n\n    <ol class=\"first\">\n      ${map(references, (reference, number) => {\n        return `<li><a class=\"reference-arrow\" href=\"#text-${number}\" id=\"footnote-${number}\">^</a> ${reference}</li>`;\n      }).join(\" \")}\n    </ol>\n  `;\n}\n\nexport function getModifiedContent(post) {\n  return getContentWithReferences(post.html, post.references || \"\");\n}\n\nfunction getContentWithReferences(content, references) {\n  if (!references) {\n    return content;\n  }\n\n  const matches = content.match(/\\[[0-9]+\\]/g);\n\n  if (matches) {\n    content = matches.reduce((result, match, index) => {\n      const number = index + 1;\n\n      return result.replace(\n        match,\n        `<span class=\"superscript\"><a href=\"#footnote-${number}\" id=\"text-${number}\">[${number}]</a></span>`\n      );\n    }, content);\n  }\n\n  return `\n    ${content}\n\n    <div class=\"writing\">\n      <h4>References</h4>\n\n      <ol class=\"first\">\n        ${references\n          .split(\"\\n\")\n          .map((reference, index) => {\n            const number = index + 1;\n\n            return `<li><a class=\"reference-arrow\" href=\"#text-${number}\" id=\"footnote-${number}\">^</a> ${reference}</li>`;\n          })\n          .join(\"\\n\")}\n      </ol>\n    </div>\n  `;\n}\n","module.exports = require(\"axios\");","module.exports = require(\"lodash\");","module.exports = require(\"lodash/keyBy\");","module.exports = require(\"prismjs/components/prism-clike\");","module.exports = require(\"prismjs/components/prism-core\");","module.exports = require(\"prismjs/components/prism-javascript\");","module.exports = require(\"react\");","module.exports = require(\"react-icons/fa\");","module.exports = require(\"react-select\");","module.exports = require(\"react-simple-code-editor\");","module.exports = require(\"react-textarea-autosize\");","module.exports = require(\"styled-components\");","module.exports = require(\"styled-jsx/style\");"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxFA;AACA;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AACA;AACA;AADA;AACA;;;;;;AAGA;AAAA;AACA;AADA;AAGA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAEA;AAEA;AAAA;AAAA;AAFA;AACA;AAIA;AAEA;AACA;AAXA;AAiBA;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AAIA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;AAAA;AAAA;AAAA;AAIA;;;;AA7DA;AACA;AA+DA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAC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A;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAJA;AAOA;AACA;AACA;AACA;AAJA;AAOA;AACA;AACA;AACA;AAJA;AAOA;AACA;AACA;AACA;AAJA;AAOA;AACA;AACA;AACA;AAJA;AAOA;AACA;AACA;AACA;AAJA;AAOA;AACA;AACA;AAGA;AANA;AASA;AACA;AACA;AAGA;AANA;AASA;AACA;AACA;AACA;AAJA;AAOA;AACA;AACA;AACA;AAJA;AACA;AAOA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AAkCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA5CA;AAuDA;AAAA;AAAA;AAAA;AACA;AAGA;AACA;AAIA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAtEA;AAwEA;AACA;AAEA;AAFA;AADA;AAMA;AACA;AA/EA;AAiFA;AADA;AAIA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AACA;AAMA;AACA;AACA;AAIA;AAEA;AAEA;AAFA;AADA;AAOA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AA1HA;AA4HA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA;AAFA;AADA;AAMA;AACA;AAvIA;AAyIA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AAJA;AADA;AAQA;AACA;AAlJA;AAmJA;AACA;AAEA;AAEA;AAFA;AACA;AAIA;AAAA;AAAA;AACA;AACA;AA7JA;AA8JA;AAAA;AAAA;AAAA;AACA;AAGA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AAAA;AAJA;AACA;AAMA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AA5MA;AA8MA;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AAzNA;AAEA;AACA;AACA;AACA;AACA;AAJA;AALA;AAWA;AACA;;;AACA;AACA;AAEA;AACA;AACA;;;AAEA;AACA;AACA;AAAA;AAAA;AACA;AACA;;;AAEA;AACA;AAEA;AACA;AACA;;;AAcA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;;;AAwKA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAFA;AAKA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAHA;AADA;AAUA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AAHA;AAMA;AAAA;AAAA;AAKA;;;AAEA;AAAA;AACA;AADA;AAGA;AAEA;AAEA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAFA;AARA;AAcA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAHA;AASA;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAiBA;AAEA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAMA;AACA;AACA;AACA;AAJA;AAUA;AACA;AACA;AACA;AAJA;AAUA;AACA;AACA;AACA;AAJA;AAUA;AACA;AACA;AACA;AAJA;AAWA;AACA;AACA;AACA;AACA;AALA;AAWA;AACA;AACA;AACA;AACA;AALA;AAWA;AACA;AACA;AACA;AAJA;AAUA;AACA;AACA;AACA;AAJA;AAOA;AAAA;AACA;AAAA;AAMA;AACA;AACA;AACA;AAJA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AACA;AACA;AAJA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AACA;AACA;AACA;AAJA;AAQA;AAAA;AAAA;AAKA;;;;AA1bA;AACA;AA4bA;;;;;;;;;;;;;;;;;;;AC9gBA;AAEA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAJA;AADA;AADA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACFA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AACA;AACA;AADA;AACA;AAGA;AACA;AACA;AACA;;;;;;AACA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AAAA;AAEA;AACA;AACA;AACA;AAHA;AADA;AASA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AADA;AAGA;AATA;AAWA;AAAA;AAIA;AACA;AACA;AACA;AACA;AAJA;AAMA;AAPA;AAYA;;;;AAjDA;AACA;AAmDA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvDA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AACA;AAAA;;;AAEA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAGA;AAOA;AACA;AACA;AACA;;;;;;AACA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAOA;AACA;AACA;AACA;AAJA;AAUA;AACA;AACA;AACA;AACA;AALA;AAWA;AACA;AACA;AACA;AAJA;AAUA;AACA;AACA;AACA;AAJA;AAUA;AACA;AACA;AACA;AAJA;AAUA;AACA;AACA;AACA;AAJA;AAUA;AACA;AACA;AACA;AAJA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAGA;;;;AAjHA;AACA;AAmHA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxHA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAGA;AACA;AACA;AAGA;AACA;AACA;AAGA;AACA;AACA;AAGA;AACA;AAtBA;AAwBA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AA5BA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAwCA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AADA;AADA;AAKA;AANA;AAFA;AAWA;AACA;AACA;AACA;AAGA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAFA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAFA;AAIA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AALA;AAQA;AACA;AAEA;AACA;AACA;AAHA;AAOA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAUA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAFA;AAKA;AACA;AACA;AAIA;AAEA;AAAA;AACA;AAAA;AAFA;AAAA;AAAA;AAsIA;AACA;AACA;;;;;;;;;;;;AC5SA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAEA;AACA;AAKA;AACA;AAGA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAIA;AACA;AACA;AACA;AAUA;AAEA;AACA;AAKA;;;;;;;;;;;;;;;;;;;;;;;AC1DA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;A","sourceRoot":""}