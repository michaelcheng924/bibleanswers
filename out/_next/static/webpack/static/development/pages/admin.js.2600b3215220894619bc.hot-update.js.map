{"version":3,"file":"static/webpack/static/development/pages/admin.js.2600b3215220894619bc.hot-update.js","sources":["webpack:///./components/PostEditor.js","webpack:///./pages/admin.js"],"sourcesContent":["import React, { Component } from \"react\";\n\nclass PostEditor extends Component {\n  render() {\n    return <h1>Post Editor</h1>;\n  }\n}\n","import React, { Component } from \"react\";\nimport fetch from \"isomorphic-unfetch\";\n\nimport Login from \"../components/Login\";\nimport AdminMain from \"../components/AdminMain\";\nimport PostEditor from \"../components/PostEditor\";\n\nclass Admin extends Component {\n  static async getInitialProps() {\n    const res = await fetch(\n      `http://bibleanswersapi.herokuapp.com/initialfetch`\n    );\n    const data = await res.json();\n\n    return {\n      posts: data.posts,\n      tags: data.tags\n    };\n  }\n\n  state = {\n    loggedIn: false,\n    post: null,\n    posts: this.props.posts,\n    tags: this.props.tags\n  };\n\n  onLoginSuccess = token => {\n    localStorage.setItem(\"bible-answers-token\", token);\n\n    this.setState({ loggedIn: true });\n  };\n\n  onSetPost = post => {\n    this.setState({ post });\n  };\n\n  render() {\n    const { loggedIn, post, posts, tags } = this.state;\n\n    if (!loggedIn) {\n      return <Login onLoginSuccess={this.onLoginSuccess} />;\n    }\n\n    return post ? (\n      <PostEditor {...post} />\n    ) : (\n      <AdminMain onSetPost={this.onSetPost} posts={posts} tags={tags} />\n    );\n  }\n}\n\nexport default Admin;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;;;;;;;;;;;;;AACA;AACA;AACA;;;;AAHA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACFA;AACA;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AAaA;AACA;AACA;AACA;AACA;AAJA;AACA;AAMA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;;;;;;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAGA;AAAA;AAAA;AAAA;AAEA;;;;;;;;;;;;;AAxCA;AACA;;AADA;;AAGA;AACA;;AADA;AAEA;AACA;AACA;AAFA;AACA;;;;;;;;;;;;;;;;AARA;AACA;AA4CA;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}