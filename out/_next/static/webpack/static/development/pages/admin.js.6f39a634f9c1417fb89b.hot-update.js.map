{"version":3,"file":"static/webpack/static/development/pages/admin.js.6f39a634f9c1417fb89b.hot-update.js","sources":["webpack:///./components/AdminMain.js","webpack:///./pages/admin.js"],"sourcesContent":["import React, { Component } from \"react\";\n\nclass AdminMain extends Component {\n  render() {\n    const { posts, tags } = this.props;\n\n    return (\n      <div>\n        <h2>Admin</h2>\n        {posts.map(post => {\n          return (\n            <div key={post.id} onClick={() => this.setState({ post })}>\n              {post.title}\n            </div>\n          );\n        })}\n      </div>\n    );\n  }\n}\n\nexport default AdminMain;\n","import React, { Component } from \"react\";\nimport fetch from \"isomorphic-unfetch\";\n\nimport Login from \"../components/Login\";\nimport AdminMain from \"../components/AdminMain\";\nimport PostEditor from \"../components/PostEditor\";\n\nclass Admin extends Component {\n  static async getInitialProps() {\n    const res = await fetch(\n      `http://bibleanswersapi.herokuapp.com/initialfetch`\n    );\n    const data = await res.json();\n\n    return {\n      posts: data.posts,\n      tags: data.tags\n    };\n  }\n\n  state = {\n    loggedIn: false,\n    post: null,\n    posts: this.props.posts,\n    tags: this.props.tags\n  };\n\n  onLoginSuccess = token => {\n    localStorage.setItem(\"bible-answers-token\", token);\n\n    this.setState({ loggedIn: true });\n  };\n\n  render() {\n    const { loggedIn, post, posts, tags } = this.state;\n\n    if (!loggedIn) {\n      return <Login onLoginSuccess={this.onLoginSuccess} />;\n    }\n\n    return post ? (\n      <PostEditor {...post} />\n    ) : (\n      <AdminMain posts={posts} tags={tags} />\n    );\n  }\n}\n\nexport default Admin;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;;;;;;;;;;;;;AACA;AAAA;AACA;AADA;AAAA;AAAA;AAGA;AAIA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAGA;;;;AAhBA;AACA;AAkBA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrBA;AACA;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AAaA;AACA;AACA;AACA;AACA;AAJA;AACA;AAMA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;;;;;;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAGA;AAAA;AAAA;AAEA;;;;;;;;;;;;;AApCA;AACA;;AADA;;AAGA;AACA;;AADA;AAEA;AACA;AACA;AAFA;AACA;;;;;;;;;;;;;;;;AARA;AACA;AAwCA;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}