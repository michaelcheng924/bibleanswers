{"version":3,"file":"static/webpack/static/development/pages/admin.js.442e314cef90805a5265.hot-update.js","sources":["webpack:///./pages/admin.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport fetch from \"isomorphic-unfetch\";\n\nimport Login from \"../components/Login\";\nimport PostEditor from \"../components/PostEditor\";\n\nclass Admin extends Component {\n  static async getInitialProps() {\n    const res = await fetch(`http://bibleanswersapi.herokuapp.com/posts`);\n    const data = await res.json();\n\n    return {\n      posts: data\n    };\n  }\n\n  state = {\n    loggedIn: false,\n    post: null,\n    posts: this.props.posts\n  };\n\n  onLoginSuccess = token => {\n    localStorage.setItem(\"bible-answers-token\", token);\n\n    this.setState({ loggedIn: true });\n  };\n\n  render() {\n    const { loggedIn, post, posts } = this.state;\n\n    if (!loggedIn) {\n      return <Login onLoginSuccess={this.onLoginSuccess} />;\n    }\n\n    return post ? (\n      <PostEditor {...post} />\n    ) : (\n      <div>\n        <h2>Admin</h2>\n        {posts.map(post => {\n          return (\n            <div key={post.id} onClick={() => this.setState({ post })}>\n              {post.title}\n            </div>\n          );\n        })}\n      </div>\n    );\n  }\n}\n\nexport default Admin;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AAUA;AACA;AACA;AACA;AAHA;AACA;AAKA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;;;;;;AACA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAMA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAGA;;;;;;;;;;;;;AAzCA;AACA;;AADA;;AACA;AACA;;AADA;AAEA;AACA;AADA;AACA;;;;;;;;;;;;;;;;AANA;AACA;AA6CA;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}